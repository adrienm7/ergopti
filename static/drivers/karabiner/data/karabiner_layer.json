{
	"description": "Left Option becomes a navigation layer",
	"manipulators": [
		{
			"description": "Hold: activate layer temporarily | Tap: toggle layer persistently",
			"from": { "key_code": "left_option" },
			"to": [
				{ "set_variable": { "name": "layer_hold", "value": 1 } },
				{ "set_variable": { "name": "layer_active", "value": 1 } }
			],
			"to_if_alone": [
				{
					"set_variable": {
						"name": "layer_toggle",
						"value": 1
					}
				},
				{
					"set_variable": {
						"name": "layer_toggle",
						"value": 0
					},
					"conditions": [
						{
							"name": "layer_toggle",
							"type": "variable_if",
							"value": 1
						}
					]
				}
			],
			"to_after_key_up": [
				{ "set_variable": { "name": "layer_hold", "value": 0 } },
				{
					"set_variable": {
						"name": "layer_active",
						"value": 0
					},
					"conditions": [
						{
							"name": "layer_toggle",
							"type": "variable_unless",
							"value": 1
						}
					]
				}
			],
			"type": "basic"
		},
		{
			"description": "Sync layer_active when toggling on",
			"from": { "key_code": "left_option" },
			"to_if_alone": [
				{
					"set_variable": {
						"name": "layer_active",
						"value": 1
					}
				}
			],
			"conditions": [
				{
					"name": "layer_toggle",
					"type": "variable_unless",
					"value": 1
				}
			],
			"type": "basic"
		},
		{
			"description": "Sync layer_active when toggling off",
			"from": { "key_code": "left_option" },
			"to_if_alone": [
				{
					"set_variable": {
						"name": "layer_active",
						"value": 0
					}
				}
			],
			"conditions": [
				{
					"name": "layer_toggle",
					"type": "variable_if",
					"value": 1
				},
				{
					"name": "layer_hold",
					"type": "variable_unless",
					"value": 1
				}
			],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Top row: È - Select to beginning of document",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "q", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "up_arrow", "modifiers": ["command", "shift"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Top row: Y - Go to beginning of document",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "w", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "up_arrow", "modifiers": ["command"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Top row: O - Go to end of document",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "e", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "down_arrow", "modifiers": ["command"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Top row: W - Select to end of document",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "r", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "down_arrow", "modifiers": ["command", "shift"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Top row: B - F2",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "t", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "f2" }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Middle row: CapsLock - Delete",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "return_or_enter", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "right_arrow" }, { "key_code": "delete_or_backspace" }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Middle row: A - Select paragraph up",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "a", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "up_arrow", "modifiers": ["command", "shift", "option"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Middle row: S - Up arrow",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "s", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "up_arrow" }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Middle row: D - Down arrow",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "d", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "down_arrow" }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Middle row: F - Select paragraph down",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "f", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "down_arrow", "modifiers": ["command", "shift", "option"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Middle row: G - F12 (Go to definition)",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "g", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "f12" }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Bottom row: Ê - Duplicate line up",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "grave_accent_and_tilde", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "up_arrow", "modifiers": ["shift", "option"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Bottom row: E - Move line up",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "z", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "up_arrow", "modifiers": ["option"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Bottom row: À - Move line down",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "x", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "down_arrow", "modifiers": ["option"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Bottom row: J - Duplicate line down",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "c", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "down_arrow", "modifiers": ["shift", "option"] }],
			"type": "basic"
		},
		{
			"description": "LEFT HAND - Bottom row: Comma - New line below",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "v", "modifiers": { "optional": ["any"] } },
			"to": [
				{ "key_code": "right_arrow", "modifiers": ["command"] },
				{ "key_code": "return_or_enter" }
			],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Top row: Y - Select to beginning of line",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "y", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "left_arrow", "modifiers": ["command", "shift"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Top row: G - Select previous word",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "u", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "left_arrow", "modifiers": ["option", "shift"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Top row: H - Select previous character",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "i", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "left_arrow", "modifiers": ["shift"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Top row: C - Select next character",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "o", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "right_arrow", "modifiers": ["shift"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Top row: X - Select next word",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "p", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "right_arrow", "modifiers": ["option", "shift"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Top row: Open bracket - Select to end of line",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "open_bracket", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "right_arrow", "modifiers": ["command", "shift"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Middle row: V - Move window to left monitor",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "h", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "left_arrow", "modifiers": ["command", "option", "control"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Middle row: S - Previous word",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "j", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "left_arrow", "modifiers": ["option"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Middle row: N - Left arrow",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "k", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "left_arrow" }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Middle row: T - Right arrow",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "l", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "right_arrow" }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Middle row: R - Next word",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "semicolon", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "right_arrow", "modifiers": ["option"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Middle row: Q - Move window to right monitor",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "quote", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "right_arrow", "modifiers": ["command", "option", "control"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Bottom row: N - Maximize window",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "n", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "f", "modifiers": ["fn", "control"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Bottom row: D - Go to the beginning of line",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "m", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "left_arrow", "modifiers": ["command"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Bottom row: L - Move window to left",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "comma", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "left_arrow", "modifiers": ["fn", "control"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Bottom row: P - Move window to right",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "period", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "right_arrow", "modifiers": ["fn", "control"] }],
			"type": "basic"
		},
		{
			"description": "RIGHT HAND - Bottom row: Apostrophe - Go to the end of line",
			"conditions": [{ "type": "variable_if", "name": "layer_active", "value": 1 }],
			"from": { "key_code": "slash", "modifiers": { "optional": ["any"] } },
			"to": [{ "key_code": "right_arrow", "modifiers": ["command"] }],
			"type": "basic"
		}
	]
}
