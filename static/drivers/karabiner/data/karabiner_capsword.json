{
	"description": "Capsword functionality",
	"manipulators": [
		{
			"description": "Right Command + Caps Lock: Toggle Caps Word",
			"from": {
				"key_code": "return_or_enter",
				"modifiers": { "mandatory": ["right_option"] }
			},
			"to": [
				{
					"set_variable": {
						"name": "capsword",
						"value": 1
					}
				},
				{ "key_code": "caps_lock" }
			],
			"type": "basic"
		},
		{
			"description": "CapsLock -> Enable CapsWord",
			"conditions": [
				{
					"name": "layer_active",
					"type": "variable_if",
					"value": 1
				},
				{
					"name": "capsword",
					"type": "variable_unless",
					"value": 1
				}
			],
			"from": {
				"key_code": "return_or_enter",
				"modifiers": {
					"optional": ["any"]
				}
			},
			"to": [
				{
					"set_variable": {
						"name": "capsword",
						"value": 1
					}
				},
				{
					"key_code": "caps_lock"
				}
			],
			"type": "basic"
		},
		{
			"description": "CapsLock -> Disable CapsWord",
			"conditions": [
				{
					"name": "layer_active",
					"type": "variable_if",
					"value": 1
				},
				{
					"name": "capsword",
					"type": "variable_if",
					"value": 1
				}
			],
			"from": {
				"key_code": "return_or_enter",
				"modifiers": {
					"optional": ["any"]
				}
			},
			"to": [
				{
					"set_variable": {
						"name": "capsword",
						"value": 0
					}
				},
				{
					"key_code": "caps_lock"
				}
			],
			"type": "basic"
		},
		{
			"description": "Capsword: disable on space",
			"conditions": [{ "name": "capsword", "type": "variable_if", "value": 1 }],
			"from": { "key_code": "spacebar", "modifiers": { "optional": ["caps_lock"] } },
			"to": [
				{ "key_code": "caps_lock" },
				{ "set_variable": { "name": "capsword", "value": 0 } },
				{ "key_code": "spacebar" }
			],
			"type": "basic"
		},
		{
			"description": "Capsword: disable on dot",
			"conditions": [{ "name": "capsword", "type": "variable_if", "value": 1 }],
			"from": { "key_code": "g", "modifiers": { "optional": ["caps_lock"] } },
			"to": [
				{ "key_code": "caps_lock" },
				{ "set_variable": { "name": "capsword", "value": 0 } },
				{ "key_code": "g" }
			],
			"type": "basic"
		},
		{
			"description": "Capsword: disable on comma",
			"conditions": [{ "name": "capsword", "type": "variable_if", "value": 1 }],
			"from": { "key_code": "v", "modifiers": { "optional": ["caps_lock"] } },
			"to": [
				{ "key_code": "caps_lock" },
				{ "set_variable": { "name": "capsword", "value": 0 } },
				{ "key_code": "v" }
			],
			"type": "basic"
		},
		{
			"description": "Capsword: disable on Enter",
			"conditions": [{ "name": "capsword", "type": "variable_if", "value": 1 }],
			"from": { "key_code": "return_or_enter", "modifiers": { "optional": ["caps_lock"] } },
			"to": [
				{ "key_code": "caps_lock" },
				{ "set_variable": { "name": "capsword", "value": 0 } },
				{ "key_code": "return_or_enter" }
			],
			"type": "basic"
		},
		{
			"description": "Capsword: disable on CapsLock",
			"conditions": [{ "name": "capsword", "type": "variable_if", "value": 1 }],
			"from": { "key_code": "caps_lock", "modifiers": { "optional": ["caps_lock"] } },
			"to": [
				{ "key_code": "caps_lock" },
				{ "set_variable": { "name": "capsword", "value": 0 } },
				{ "key_code": "return_or_enter" }
			],
			"type": "basic"
		}
	]
}
